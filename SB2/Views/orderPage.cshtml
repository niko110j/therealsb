@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@using Umbraco.Extensions
@{
	Layout = "master.cshtml";
    var bookingTypesContainer = Umbraco.Content(Guid.Parse("f3ee3ccc-c508-4bd8-9a70-b79dd317b6b6"));
var bookings = bookingTypesContainer.Children();
}


<h2>Opret Ny Ordre</h2>

<form method="post" action="/umbraco/surface/order/CreateOrder" class="order-form">
    <fieldset>
        <legend>Kundeoplysninger</legend>
        <label for="clientName">Navn:</label>
        <input type="text" id="clientName" name="ClientName" placeholder="F.eks. Jens Jensen" required />

        <label for="clientEmail">Email:</label>
        <input type="email" id="clientEmail" name="ClientEmail" placeholder="jens@example.com" required />

        <label for="clientPhone">Telefon:</label>
        <input type="tel" id="clientPhone" name="ClientPhone" placeholder="12 34 56 78" />
    </fieldset>

    <fieldset>
        <legend>Sælgeroplysninger</legend>
        <label for="salespersonName">Sælgernavn:</label>
        <input type="text" id="salespersonName" name="SalespersonName" placeholder="Navn på sælger" />
    </fieldset>

    <fieldset>
        <legend>Udfyldt af</legend>
        <label for="filledBy">Udfyldt af:</label>
        <input type="text" id="filledBy" name="FilledBy" placeholder="Navn på medarbejder" />
    </fieldset>

    <div id="bookingTypeFormContainer">
        <!-- Booking form partial will load here -->
    </div>
    <button type="submit">Opret ordre</button>
</form>

@section Scripts {
    <script>
        document.getElementById('bookingTypeSelect').addEventListener('change', function () {
            const type = this.value;
            fetch(`/order/loadbookingpartial?type=${type}`)
                .then(res => res.text())
                .then(html => {
                    document.getElementById('bookingTypeFormContainer').innerHTML = html;
                });
        });
    </script>
}

<style>
    .order-form {
        max-width: 600px;
        margin: 0 auto;
    }

    fieldset {
        margin-bottom: 2rem;
        padding: 1rem;
        border: 1px solid #ccc;
        border-radius: 8px;
    }

    label {
        display: block;
        margin-top: 1rem;
    }

    input {
        width: 100%;
        padding: 0.5rem;
        margin-top: 0.3rem;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    button {
        padding: 0.7rem 1.5rem;
        background-color: #007acc;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

        button:hover {
            background-color: #005fa3;
        }
</style>